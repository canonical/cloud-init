cc_ssh:
  description: "This module handles most configuration for SSH and both host and\n\
    authorized SSH keys.\n\n**Authorized keys**\n\nAuthorized keys are a list of public\
    \ SSH keys that are allowed to connect\nto a user account on a system. They are\
    \ stored in ``.ssh/authorized_keys``\nin that account's home directory. Authorized\
    \ keys for the default user\ndefined in ``users`` can be specified using ``ssh_authorized_keys``.\
    \ Keys\nshould be specified as a list of public keys.\n\n.. note::\n   See the\
    \ ``cc_set_passwords`` module documentation to enable/disable\n   SSH password\
    \ authentication.\n\nRoot login can be enabled/disabled using the ``disable_root``\
    \ config key.\nRoot login options can be manually specified with ``disable_root_opts``.\n\
    \nSupported public key types for the ssh_authorized_keys are:\n\n- rsa\n- ecdsa\n\
    - ed25519\n- ecdsa-sha2-nistp256-cert-v01@openssh.com\n- ecdsa-sha2-nistp256\n\
    - ecdsa-sha2-nistp384-cert-v01@openssh.com\n- ecdsa-sha2-nistp384\n- ecdsa-sha2-nistp521-cert-v01@openssh.com\n\
    - ecdsa-sha2-nistp521\n- sk-ecdsa-sha2-nistp256-cert-v01@openssh.com\n- sk-ecdsa-sha2-nistp256@openssh.com\n\
    - sk-ssh-ed25519-cert-v01@openssh.com\n- sk-ssh-ed25519@openssh.com\n- ssh-ed25519-cert-v01@openssh.com\n\
    - ssh-ed25519\n- ssh-rsa-cert-v01@openssh.com\n- ssh-rsa\n- ssh-xmss-cert-v01@openssh.com\n\
    - ssh-xmss@openssh.com\n\n.. note::\n   This list has been filtered out from the\
    \ supported keytypes of\n   `OpenSSH <https://github.com/openssh/openssh-portable/blob/master/sshkey.c>`_\n\
    \   source, where the ``sigonly`` keys are removed. Please see ``ssh_util``\n\
    \   for more information.\n\n   ``rsa``, ``ecdsa`` and ``ed25519`` are added for\
    \ legacy, as they are\n   valid public keys in some older distros. They can possibly\
    \ be removed\n   in the future when support for the older distros is dropped.\n\
    \n**Host keys**\n\nHost keys are for authenticating a specific instance. Many\
    \ images have\ndefault host SSH keys, which can be removed using ``ssh_deletekeys``.\n\
    \nHost keys can be added using the ``ssh_keys`` configuration key.\n\nWhen host\
    \ keys are generated the output of the ``ssh-keygen`` command(s)\ncan be displayed\
    \ on the console using the ``ssh_quiet_keygen``\nconfiguration key.\n\n.. note::\n\
    \   When specifying private host keys in cloud-config, care should be taken\n\
    \   to ensure that communication between the data source and the instance\n  \
    \ is secure.\n\nIf no host keys are specified using ``ssh_keys``, then keys will\
    \ be\ngenerated using ``ssh-keygen``. By default, one public/private pair of\n\
    each supported host key type will be generated. The key types to generate\ncan\
    \ be specified using the ``ssh_genkeytypes`` config flag, which accepts\na list\
    \ of host key types to use. For each host key type for which this\nmodule has\
    \ been instructed to create a keypair, if a key of the same type\nis already present\
    \ on the system (i.e. if ``ssh_deletekeys`` was set to\nfalse), no key will be\
    \ generated.\n\nSupported host key types for the ``ssh_keys`` and the ``ssh_genkeytypes``\n\
    config flags are:\n\n- ecdsa\n- ed25519\n- rsa\n\nUnsupported host key types for\
    \ the ``ssh_keys`` and the ``ssh_genkeytypes``\nconfig flags are:\n\n- ecdsa-sk\n\
    - ed25519-sk\n"
  examples:
  - comment: ''
    file: cc_ssh/example1.yaml
  name: SSH
  title: Configure SSH and SSH keys
